<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Hello World</title>
    <script src="../build/react.js"></script>
    <script src="../build/react-dom.js"></script>
    <script src="../build/browser.min.js"></script>
  </head>
  <body>
    <div id="root"></div>
    <script type = "text/babel">
      ReactDOM.render(
        <h1>Hello,world!</h1>,
        document.getElementById('root')
      );

      // es6箭头函数的写法练习

      // es5写法
        var selected = allJobs.filter(function (job) {
            return job.isSelected();
        });

        var total = values.reduce(function (a,b) {
            return a + b;
        },0);

        $("#test").click(function (event) {
            play();
            fire();
        })

      // es6写法
        var selected = allJobs.filter(job => job.isSelected());

        var total = values.reduce((a,b) => a + b,0);

        $("#test").click(event => {
            play();
            fire();
        })

      // hackthis: 在这里，你希望在内层函数里写的是this.add(piece)，不幸的是，内层函数并未从外层函数继承this的值。
      // 在内层函数里，this会是window或undefined，临时变量self用来将外部的this值导入内部函数。
      // （另一种方式是在内部函数上执行.bind(this)，两种方法都不甚美观。）
      // es5写法
      {
          addAll : function addAll(pieces) {
              var self = this;
              _.each(pieces,function (piece) {
                  self.add(piece)
              })
          }
      }

      // es6写法
      {
          addAll : function addAll(pieces) {
              _.each(pieces,piece => this.add(piece))
          }
      }

    </script>
  </body>
</html>
