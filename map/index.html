<!DOCTYPE html>
<html>
  <head>
    <script src="../build/react.js"></script>
    <script src="../build/react-dom.js"></script>
    <script src="../build/browser.min.js"></script>
  </head>
  <body>
    <div id="example"></div>
    <script type="text/babel">
      var names = ['Alice', 'Emily', 'Kate','test'];
      ReactDOM.render(
        <div>
          {
            // names.map(function (name) {
            //   return <div> Hello,{name}!</div>
            // })
            names.forEach(function (name) {
              return <div> Hello,test</div>
            })
          }
        </div>,
        document.getElementById('example')
      )

      // javascript的对象本质上是键值对的集合(hansh结构)，但是传统上只能用字符串当做键，为了解决这个问题，es6提供了Map结构。
      // 它类似于对象，也是键值对的集合，但是键的范围不限于字符串，各种类型的值(包括对象)都可以当做键。
      var m = new Map();
      var o = {p : 'hello world'};
      m.set(o,'content');
      m.get(o); // content
      m.has(0); // true
      m.delete(o); // true;
      m.has(o); // false;

      // 做为构造函数，Map也可以接受一个数组做为参数
      var map = new Map([
         ['name','liu'],
         ['title','author']
      ]);

      console.log(map.size); // 2
      console.log(map.has('name')); // true;
      console.log(map.get('name')); // 张三
      console.log(map.get('title')); // true

      var map1 =  new Map();
      map1.set(1,'aaa')
          .set(1,'bbb')

      console.log(map1.get(1)); // bbb

      // 扩展运算符 ...
      let set = new Set(['red','green','blue']);
      let arr1 = [...set];
      console.dir(arr1); // ['red','green','blue']

      // 扩展运算符和Set结合，就可以去除数组的重复成员
      let arr2 = [3, 5, 2, 2, 5, 5];
      let unique = [...new Set(arr2)];
      console.dir(unique); // [3,5,2]

      let set1 = new Set([1,2,3]);
      set1 = new Set([...set1].map(x => x * 2));// 返回set结构 {2, 4, 6}
      console.dir(set1);

      let set3 = new Set([1, 2, 3, 4, 5]);
      set3 = new Set([...set3].filter(x => (x % 2) == 0));// 返回set结构 {2, 4}
      console.dir(set3);

    </script>
  </body>
</html>
